{
    "$schema": "https://json-schema.org/draft/2020-12/schema",
    "title": "Tabular Data Type",
    "description": "Tabular data type aligned with CDIF 2026 schema using DDI-CDI and CSVW properties. Typed as cdi:TabularTextDataSet and ada:tabularData.",
    "allOf": [
        {
            "type": "object",
            "properties": {
                "@type": {
                    "type": "array",
                    "items": {"type": "string"},
                    "minItems": 2,
                    "allOf": [
                        {
                            "contains": {"const": "cdi:TabularTextDataSet"}
                        },
                        {
                            "contains": {"const": "ada:tabularData"}
                        }
                    ]
                },
                "componentType": {
                    "anyOf": [
                        {
                            "type": "object",
                            "properties": {
                                "@type": {
                                    "type": "string",
                                    "enum": [
                                        "ada:AMSRawData",
                                        "ada:AMSProcessedData",
                                        "ada:DSCResultsTabular",
                                        "ada:FTICRMSTabular",
                                        "ada:GPYCProcessedTabular",
                                        "ada:GPYCRawTabular",
                                        "ada:HRICPMSProcessed",
                                        "ada:HRICPMSRaw",
                                        "ada:ICPOESIntermediateTabular",
                                        "ada:ICPOESProcessedTabular",
                                        "ada:ICPOESRawTabular",
                                        "ada:ICTabular",
                                        "ada:MCICPMSTabular",
                                        "ada:NGNSMSRaw",
                                        "ada:NGNSMSProcessed",
                                        "ada:QICPMSProcessedTabular",
                                        "ada:QICPMSRawTabular",
                                        "ada:RAMANRawTabular",
                                        "ada:RITOFNGMSTabular",
                                        "ada:RITOFNGMSCollection",
                                        "ada:SEMEDSPointData",
                                        "ada:SIMSTabular",
                                        "ada:STEMEDSTabular",
                                        "ada:STEMEELSTabular",
                                        "ada:SVRUECTabular",
                                        "ada:XANESRawTabular",
                                        "ada:XANESProcessedTabular"
                                    ]
                                }
                            },
                            "required": ["@type"]
                        },
                        {"$ref": "../detailDSC/schema.yaml"},
                        {"$ref": "../detailEAIRMS/schema.yaml"},
                        {"$ref": "../detailEMPA/schema.yaml"},
                        {"$ref": "../detailLAF/schema.yaml"},
                        {"$ref": "../detailNanoSIMS/schema.yaml"},
                        {"$ref": "../detailNanoIR/schema.yaml"},
                        {"$ref": "../detailPSFD/schema.yaml"},
                        {"$ref": "../detailVNMIR/schema.yaml"},
                        {"$ref": "../detailXRD/schema.yaml"}
                    ]
                },
                "xCoordCol": {
                    "description": "The column names are redundant, they are lists in the hasPhysicalMapping array. Include here for convenience.",
                    "type": "string"
                },
                "yCoordCol": {"type": "string"},
                "zCoordCol": {"type": "string"},
                "coordUnits": {"type": "string"},
                "spatialRegistration": {"$ref": "../spatialRegistration/schema.yaml"}
            },
            "required": [
                "@type",
                "componentType"
            ]
        },
        {"$ref": "../../cdifProperties/cdifTabularData/cdifTabularDataSchema.json"}
    ]
}