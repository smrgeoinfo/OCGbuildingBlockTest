{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Instrument Detail Types",
  "description": "Umbrella schema referencing all instrument-specific detail type building blocks. Individual detail types are now separate building blocks under adaProperties/detailXxx/.",
  "type": "object",
  "anyOf": [
    {
      "title": "Basemap Instrument Detail",
      "description": "Basemap images with RGB channels and pixel scaling. (Extension type, not in v3 source schema.)",
      "type": "object",
      "properties": {
        "@type": {
          "const": [
            "ada:basemap",
            "schema:Map"
          ]
        },
        "schema:description": {
          "type": "string"
        },
        "pixelUnits": {
          "type": "string"
        },
        "pixelScaleX": {
          "type": "number"
        },
        "pixelScaleY": {
          "type": "number"
        },
        "channel1": {
          "type": "string"
        },
        "channel2": {
          "type": "string"
        },
        "channel3": {
          "type": "string"
        }
      },
      "required": [
        "@type",
        "pixelScaleX",
        "pixelScaleY",
        "pixelUnits"
      ]
    },
    {
      "title": "ARGT Instrument Detail",
      "description": "ARGT (Argon) document type with phase and isotope analysis",
      "type": "object",
      "properties": {
        "@type": {
          "const": "ada:ARGTDocument"
        },
        "phaseAnalyzed": {
          "type": "string"
        },
        "isotopeType": {
          "type": "string"
        }
      }
    },
    {
      "title": "DSC Instrument Detail",
      "description": "Differential Scanning Calorimetry heat tabular data",
      "type": "object",
      "properties": {
        "@type": {
          "const": "ada:DSCHeatTabular"
        },
        "analysisType": {
          "type": "string"
        }
      }
    },
    {
      "title": "EMPA Instrument Detail",
      "description": "Electron Microprobe Analysis with spectrometer and signal details.",
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "const": "ada:EMPAImage"
            },
            {
              "const": "ada:EMPAQEATabular"
            },
            {
              "const": "ada:EMPAImageCollection"
            }
          ]
        },
        "spectrometersUsed": {
          "type": "string",
          "description": "Spectrometers used in analysis"
        },
        "signalUsed": {
          "type": "string"
        }
      }
    },
    {
      "title": "EA-IRMS Instrument Detail",
      "description": "Elemental Analysis Isotope Ratio Mass Spectrometry collection",
      "type": "object",
      "properties": {
        "@type": {
          "const": "ada:EAIRMSCollection"
        },
        "massConsumed": {
          "type": "string"
        },
        "elementType": {
          "type": "string"
        }
      }
    },
    {
      "title": "ICP-OES Instrument Detail",
      "description": "Inductively Coupled Plasma Optical Emission Spectrometry. (Extension type, not in v3 source schema.)",
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "const": "ada:ICPOESIntermediateTabular"
            },
            {
              "const": "ada:ICPOESProcessedTabular"
            },
            {
              "const": "ada:ICPOESRawTabular"
            }
          ]
        },
        "mass": {
          "type": "string"
        },
        "dissolutionFactor": {
          "type": "number"
        }
      }
    },
    {
      "title": "L2MS Instrument Detail",
      "description": "Laser-2 Mass Spectrometry cube data with ionization parameters",
      "type": "object",
      "properties": {
        "@type": {
          "const": "ada:L2MSCube"
        },
        "sampleName": {
          "type": "string"
        },
        "ionizationTimeDelay": {
          "type": "integer"
        },
        "massGate": {
          "type": "boolean"
        },
        "photoionizationWavelength": {
          "type": "integer"
        },
        "plasmaShutter": {
          "type": "boolean"
        },
        "timeDelayUnits": {
          "type": "string"
        },
        "wavelengthUnits": {
          "type": "string"
        }
      }
    },
    {
      "title": "LAF Instrument Detail",
      "description": "Laser Ablation Fluorescence processed/raw data. elementAnalyzed goes in resultTarget.",
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "const": "ada:LAFProcessed"
            },
            {
              "const": "ada:LAFRaw"
            }
          ]
        },
        "elementAnalyzed": {
          "type": "string"
        },
        "sampleMassConsumed": {
          "type": "string"
        },
        "sampleType": {
          "type": "string"
        }
      }
    },
    {
      "title": "NanoIR Instrument Detail",
      "description": "Nano-IR spectroscopy collections with phase analysis",
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "const": "ada:NanoIRBackground"
            }
          ]
        },
        "phaseAnalyzed": {
          "title": "String Array Type",
          "description": "Simple reusable array of strings",
          "type": "array",
          "minItems": 0,
          "items": {
            "type": "string"
          }
        }
      }
    },
    {
      "title": "NanoSIMS Instrument Detail",
      "description": "Nano Secondary Ion Mass Spectrometry with isotope tracking",
      "type": "object",
      "properties": {
        "@type": {
          "type": "string",
          "enum": [
            "ada:NanoSIMSCollection",
            "ada:NanoSIMSImageCollection",
            "ada:NanoSIMSTabular",
            "ada:NanoSIMSMap"
          ]
        },
        "phaseAnalyzed": {
          "title": "String Array Type",
          "description": "Simple reusable array of strings",
          "type": "array",
          "minItems": 0,
          "items": {
            "type": "string"
          }
        },
        "isotopeAnalyzed": {
          "title": "String Array Type",
          "description": "Simple reusable array of strings",
          "type": "array",
          "minItems": 0,
          "items": {
            "type": "string"
          }
        }
      }
    },
    {
      "title": "PSFD Instrument Detail",
      "description": "Point Spread Function Data with image names and conditions",
      "type": "object",
      "properties": {
        "@type": {
          "const": "ada:PSFDTabular"
        },
        "imageName": {
          "title": "String Array Type",
          "description": "Simple reusable array of strings",
          "type": "array",
          "minItems": 0,
          "items": {
            "type": "string"
          }
        },
        "imageViewingConditions": {
          "type": "string"
        }
      }
    },
    {
      "title": "VNMIR Instrument Detail",
      "description": "Very-Near Mid-IR spectroscopy with detailed measurement parameters",
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "const": "ada:VNMIRSpectralPoint"
            },
            {
              "const": "ada:VNMIROverviewImage"
            },
            {
              "const": "ada:VNMIRSpectralMap"
            }
          ]
        },
        "detector": {
          "type": "string"
        },
        "beamsplitter": {
          "type": "string"
        },
        "calibrationStandards": {
          "type": "string"
        },
        "comments": {
          "type": "string"
        },
        "numberOfScans": {
          "type": "integer"
        },
        "eMaxFitRegionMax": {
          "type": "string"
        },
        "eMaxFitRegionMin": {
          "type": "string"
        },
        "emissionAngle": {
          "type": "number"
        },
        "emissivityMaximum": {
          "type": "string"
        },
        "environmentalPressure": {
          "type": "number"
        },
        "incidenceAngle": {
          "type": "number"
        },
        "measurement": {
          "type": "string"
        },
        "measurementEnvironment": {
          "type": "string"
        },
        "phaseAngle": {
          "type": "number"
        },
        "sampleHeated": {
          "type": "boolean"
        },
        "samplePreparation": {
          "type": "string"
        },
        "sampleTemperature": {
          "type": "integer"
        },
        "spectralRangeMax": {
          "type": "string"
        },
        "spectralRangeMin": {
          "type": "string"
        },
        "spectralResolution": {
          "type": "string"
        },
        "spectralSampling": {
          "type": "string"
        },
        "spotSize": {
          "type": "string"
        },
        "uncertaintyNoise": {
          "type": "number"
        },
        "vacuumExposedSample": {
          "type": "boolean"
        }
      }
    },
    {
      "title": "QRIS Instrument Detail",
      "description": "QRIS (Raman) with calibration and illumination parameters. (Extension type, not in v3 source schema.)",
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "const": "ada:QRISCalibrated"
            },
            {
              "const": "ada:QRISRaw"
            }
          ]
        },
        "calibrationFile": {
          "type": "string"
        },
        "pipelineVersion": {
          "type": "string"
        },
        "focalLength": {
          "type": "integer"
        },
        "illuminationColor": {
          "type": "array",
          "minItems": 0,
          "items": {
            "type": "string"
          }
        },
        "illuminationLevel": {
          "type": "integer"
        },
        "exposureTime": {
          "type": "integer"
        },
        "target": {
          "type": "string"
        }
      }
    },
    {
      "title": "SLS Instrument Detail",
      "description": "Structured Light Scanning shape models and partial scans",
      "type": "object",
      "properties": {
        "@type": {
          "anyOf": [
            {
              "const": "ada:SLSShapeModel"
            },
            {
              "const": "ada:SLSPartialScan"
            }
          ]
        },
        "countScans": {
          "type": "integer"
        },
        "facets": {
          "type": "integer"
        },
        "unitsOfMeasurement": {
          "type": "string"
        },
        "version": {
          "type": "integer"
        },
        "vertices": {
          "type": "integer"
        },
        "watertight": {
          "type": "boolean"
        }
      }
    },
    {
      "title": "XCT Instrument Detail",
      "description": "X-ray Computed Tomography images with detailed scan parameters. (Extension type, not in v3 source schema.)",
      "type": "object",
      "properties": {
        "@type": {
          "const": "ada:XCTImageCollection"
        },
        "beamFilterMaterial": {
          "type": "string"
        },
        "beamFilterThickness": {
          "type": "number"
        },
        "dataRangeLower": {
          "type": "integer"
        },
        "dataRangeUpper": {
          "type": "integer"
        },
        "detectorGain": {
          "type": "string"
        },
        "detectorBinning": {
          "type": "string"
        },
        "detectorSize": {
          "type": "string"
        },
        "detectorType": {
          "type": "string"
        },
        "imageExposure": {
          "type": "number"
        },
        "imageFPS": {
          "type": "string"
        },
        "imageGain": {
          "type": "number"
        },
        "imageSize": {
          "type": "string"
        },
        "instrumentType": {
          "type": "string"
        },
        "nsiBeamHardening": {
          "type": "number"
        },
        "numberOfFramesAveragedPerProjection": {
          "type": "integer"
        },
        "numberOfProjections": {
          "type": "integer"
        },
        "numberOfSlices": {
          "type": "integer"
        },
        "pixelPitch": {
          "type": "string"
        },
        "reconstructedDataFormat": {
          "type": "string"
        },
        "reconstructedVoxelSize": {
          "type": "string"
        },
        "reconstructionSoftware": {
          "type": "string"
        },
        "rotationAngle": {
          "type": "string"
        },
        "rotationType": {
          "type": "string"
        },
        "sourceToDetectorDistance": {
          "type": "string"
        },
        "sourceToObjectDistance": {
          "type": "number"
        },
        "subPixGrid": {
          "type": "string"
        },
        "subPixShift": {
          "type": "string"
        },
        "xraySource": {
          "type": "string"
        },
        "xrayTargetMaterial": {
          "type": "string"
        },
        "xrayTubeCurrent": {
          "type": "number"
        },
        "xrayTubeEnergy": {
          "type": "number"
        },
        "xrayTubePower": {
          "type": "number"
        }
      }
    },
    {
      "title": "XRD Instrument Detail",
      "description": "X-ray Diffraction tabular data with geometry and wavelength",
      "type": "object",
      "properties": {
        "@type": {
          "const": "ada:XRDTabular"
        },
        "geometry": {
          "type": "string"
        },
        "sampleMount": {
          "type": "string"
        },
        "stepSize": {
          "type": "number"
        },
        "timePerStep": {
          "type": "number"
        },
        "wavelength": {
          "type": "number"
        }
      }
    }
  ]
}
