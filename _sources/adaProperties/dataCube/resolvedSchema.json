{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Data Cube Type",
  "description": "Multi-dimensional data cube structure using DDI-CDI. Typed as ada:dataCube and cdi:StructuredDataSet per CDIF 2026 alignment.",
  "type": "object",
  "properties": {
    "@type": {
      "type": "array",
      "items": {
        "type": "string"
      },
      "minItems": 2,
      "contains": {
        "const": "cdi:StructuredDataSet"
      }
    },
    "componentType": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "@type": {
              "enum": [
                "ada:GCMSCollection",
                "ada:GCMSCube",
                "ada:FTICRMSCube",
                "ada:LCMSCollection",
                "ada:SEMEBSDGrainImageMapCube",
                "ada:SEMEDSElementalMapsCube",
                "ada:SEMEDSPointDataCube",
                "ada:SEMHRCLCube",
                "ada:STEMEDSCube",
                "ada:STEMEDSTomo",
                "ada:STEMEELSCube",
                "ada:VNMIRSpectralMap"
              ]
            }
          },
          "required": [
            "@type"
          ]
        },
        {
          "title": "L2MS Instrument Detail",
          "description": "Laser-2 Mass Spectrometry cube data with ionization parameters",
          "type": "object",
          "properties": {
            "@type": {
              "const": "ada:L2MSCube"
            },
            "sampleName": {
              "type": "string"
            },
            "ionizationTimeDelay": {
              "type": "integer"
            },
            "massGate": {
              "type": "boolean"
            },
            "photoionizationWavelength": {
              "type": "integer"
            },
            "plasmaShutter": {
              "type": "boolean"
            },
            "timeDelayUnits": {
              "type": "string"
            },
            "wavelengthUnits": {
              "type": "string"
            }
          }
        }
      ]
    },
    "dataComponentResource": {
      "type": "string"
    },
    "cdi:hasPhysicalMapping": {
      "type": "array",
      "description": "Links variables to their physical representation in this dataset.",
      "items": {
        "title": "Physical Mapping Type",
        "description": "Defines implementation-specific properties for the representation of a variable in a dataset. Aligned with CDIF 2026 schema using DDI-CDI flat per-column mapping structure.",
        "type": "object",
        "properties": {
          "cdi:index": {
            "type": "integer",
            "minimum": 0,
            "description": "Non-negative integer that orders the fields in the data structure (column number)."
          },
          "cdi:format": {
            "type": "string",
            "description": "A format for number expressed as a string, or date format like YYYY/MM or MM-DD-YY."
          },
          "cdi:physicalDataType": {
            "type": "string"
          },
          "cdi:length": {
            "type": "integer",
            "description": "The column width if the tabular text is fixed width."
          },
          "cdi:nullSequence": {
            "type": "string",
            "description": "The value of this property becomes the null annotation for the described column."
          },
          "cdi:defaultValue": {
            "type": "string",
            "description": "A default string indicating the value to substitute for an empty string."
          },
          "cdi:scale": {
            "type": "integer"
          },
          "cdi:decimalPositions": {
            "type": "integer"
          },
          "cdi:minimumLength": {
            "type": "integer"
          },
          "cdi:maximumLength": {
            "type": "integer"
          },
          "cdi:isRequired": {
            "type": "boolean",
            "default": false
          },
          "cdi:formats_InstanceVariable": {
            "type": "object",
            "description": "Reference to a variable defined in schema:variableMeasured.",
            "properties": {
              "@id": {
                "type": "string",
                "description": "This should be a reference to a variable defined in the schema:variableMeasured section."
              }
            }
          },
          "cdi:defaultDecimalSeparator": {
            "type": "string"
          },
          "cdi:defaultDigitalGroupSeparator": {
            "type": "string"
          },
          "cdi:displayLabel": {
            "type": "string"
          },
          "cdi:locator": {
            "type": "string",
            "description": "String that can be used by software to locate values of the variable in this physical dataset."
          }
        }
      }
    }
  }
}
