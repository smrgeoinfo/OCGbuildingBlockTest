Validation report for cdif.bbr.metadata.profiles.cdifProfiles.CDIFDiscovery - CDIF discovery metadata
Generated 2026-02-19T23:08:23.325105+00:00
=== Files ===
Using CDIF-XAS-Full.json from examples
JSON-LD context is present - uplifting
Output JSON-LD example_2_1.jsonld created
Output Turtle example_2_1.ttl created
=== End Files ===

=== JSON Schema ===

** Validation error **
ValidationError: {'@type': ['schema:Event', 'xas:AnalysisEvent', 'prov:Activity'], 'schema:identifier': '20241111_DSC_NU_OREX-803224-0_1', 'schema:startDate': '2008-04-10T21:58:50', 'prov:used': [{'@type': ['schema:Thing', 'schema:Product'], 'schema:additionalType': 'nxs:BaseClass/NXsource', 'schema:name': 'source, made up for this example', 'schema:identifier': 'should have a registry with URIs', 'schema:additionalProperty': [{'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXsource/type'], 'schema:name': 'x-ray source', 'schema:value': 'Synchrotron X-ray Source'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXsource/probe'], 'schema:name': 'Probe', 'schema:value': 'x-ray'}]}, {'@type': ['schema:Thing', 'schema:Product'], 'schema:additionalType': 'xas:Beamline', 'schema:name': '13-BM-D', 'schema:identifier': 'should have a registry with URIs', 'schema:additionalProperty': [{'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:collimation'], 'schema:name': 'collimation technique', 'schema:value': 'none'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:focusing'], 'schema:name': 'focusing', 'schema:value': '???'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:harmonic_rejection'], 'schema:name': 'harmonic_rejection', 'schema:value': 'Rh-coated mirror, detuned'}]}, {'@type': ['schema:Thing', 'schema:Product'], 'schema:additionalType': 'nxs:BaseClass/NXmonochromator', 'schema:name': 'Si 111', 'schema:additionalProperty': [{'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXcrystal/d_spacing'], 'schema:name': 'd-spacing', 'schema:value': '3.13550', 'schema:unitText': 'Angstrom'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXcrystal/chemical_formula'], 'schema:name': 'chemical formula', 'schema:value': 'Si'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXcrystal/type'], 'schema:name': 'crystal type', 'schema:value': 'missing'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXcrystal/reflection'], 'schema:name': 'reflection plane (hkl)', 'schema:value': '1,1,1'}]}, {'@type': ['schema:Thing', 'schema:Product'], 'schema:additionalType': 'nxs:BaseClass/NXmonitor', 'schema:additionalProperty': [{'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXmonitor/mode'], 'schema:name': 'monitor mode', 'schema:value': 'monitor'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXmonitor/preset'], 'schema:name': 'monitor preset', 'schema:value': 'N.A.'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:detector.i0'], 'schema:name': 'detector mode i0', 'schema:alternateName': 'incident flux measurement method', 'schema:value': '10cm  N2'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:detector.it'], 'schema:name': 'detector mode it', 'schema:alternateName': 'transmitted flux measurement method', 'schema:value': '10cm  N2'}]}], 'schema:additionalProperty': [{'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:pressure'], 'schema:name': 'experiment environment-pressure', 'schema:description': 'extrinsic properties of measurement environment--temperature, pressure, e-field, mag-field.  have to check magnetic_moment, electrochemical_potential', 'schema:value': 3567, 'schema:unitText': 'KPa'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:edge_energy'], 'schema:name': 'Absorption edge', 'schema:value': '12658.0', 'schema:unitText': 'eV'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Group/NXdetector/calibration_method'], 'schema:name': 'calibration method', 'schema:value': 'description of calibration procedure', 'schema:url': 'http://protocols.io/link/to/calibrationMethod'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Group/NXentry/experiment_documentation'], 'schema:name': 'Instrument configuration', 'schema:value': 'description of instrument configuration', 'schema:url': 'http://protocols.io/link/to/calibrationMethod'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:installedOptions'], 'schema:name': 'Installed Options', 'schema:value': 'Description of extra equipment installed on the base instrument(?)'}], 'schema:location': {'@id': 'ex:xasfacility_37yht', '@type': 'schema:Place', 'schema:additionalType': ['xas:Facility'], 'schema:identifier': 'https://ror.org/aps', 'schema:name': 'APS', 'schema:additionalProperty': [{'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:energy'], 'schema:name': 'Facility energy', 'schema:value': '7.00', 'schema:unitText': 'GeV'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:current'], 'schema:name': 'Facility current', 'schema:value': '120', 'schema:unitText': 'Amps'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:xray_source'], 'schema:name': 'X-ray Source', 'schema:value': 'APS bending magnet'}]}, 'schema:mainEntity': {'@type': ['schema:Thing', 'schema:Product'], 'schema:additionalType': ['MaterialSample', 'https://w3id.org/isample/vocabulary/materialsampleobjecttype/materialsample'], 'schema:name': 'Na2SeO4', 'schema:identifier': 'igsn:10.6620/357lkj', 'schema:description': 'physical properties of sample: ph, eh, volume, porosity, density, concentration, resistivity, viscosity, crystal structure, opacity from xdi list...', 'schema:additionalProperty': [{'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:porosity'], 'schema:name': 'Porosity', 'schema:value': 27, 'schema:unitText': 'percent'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:stoichiometry'], 'schema:name': 'Stoichiometry', 'schema:value': 'Na2SeO4'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:samplePreparation'], 'schema:name': 'samaple preparation method', 'schema:value': 'powder on tape, 6 layers'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXsample/mass'], 'schema:name': 'sample mass', 'schema:value': '10', 'schema:unitText': 'mg'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXsample/point_group'], 'schema:name': 'crystallographic point group', 'schema:value': 'mm2'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['nxs:Field/NXsample/unit_cell'], 'schema:name': 'Crystal unit cell dimensions', 'schema:value': 'cubic; Z = 4; a = 5.46; V = 162.77'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:parentSample'], 'schama:name': 'parent sample identifier', 'schema:value': 'igsn:10.3476/342573'}, {'@type': 'schema:PropertyValue', 'schema:propertyID': ['xas:materialState'], 'schema:name': 'material state', 'schema:value': 'solid metal foil'}]}} is not of type 'array'

Failed validating 'type' in schema['allOf'][1]['properties']['prov:wasGeneratedBy']:
    {'description': 'Brief information about instruments, software or '
                    'experimental protocols used',
     'items': {'$ref': '#/$defs/GeneratedBy'},
     'type': 'array'}

On instance['prov:wasGeneratedBy']:
    {'@type': ['schema:Event', 'xas:AnalysisEvent', 'prov:Activity'],
     'prov:used': [{'@type': ['schema:Thing', 'schema:Product'],
                    'schema:additionalProperty': [{'@type': 'schema:PropertyValue',
                                                   'schema:name': 'x-ray '
                                                                  'source',
                                                   'schema:propertyID': ['nxs:Field/NXsource/type'],
                                                   'schema:value': 'Synchrotron '
                                                                   'X-ray '
                                                                   'Source'},
                                                  {'@type': 'schema:PropertyValue',
                                                   'schema:name': 'Probe',
                                                   'schema:propertyID': ['nxs:Field/NXsource/probe'],
                                                   'schema:value': 'x-ray'}],
                    'schema:additionalType': 'nxs:BaseClass/NXsource',
                    'schema:identifier': 'should have a registry with URIs',
                    'schema:name': 'source, made up for this example'},
                   {'@type': ['schema:Thing', 'schema:Product'],
                    'schema:additionalProperty': [{'@type': 'schema:PropertyValue',
                                                   'schema:name': 'collimation '
                                                                  'technique',
                                                   'schema:propertyID': ['xas:collimation'],
                                                   'schema:value': 'none'},
                                                  {'@type': 'schema:PropertyValue',
                                                   'schema:name': 'focusing',
                                                   'schema:propertyID': ['xas:focusing'],
                                                   'schema:value': '???'},
                                                  {'@type': 'schema:PropertyValue',
                                                   'schema:name': 'harmonic_rejection',
                                                   'schema:propertyID': ['xas:harmonic_rejection'],
                                                   'schema:value': 'Rh-coated '
                                                                   'mirror, '
                                                                   'detuned'}],
                    'schema:additionalType': 'xas:Beamline',
                    'schema:identifier': 'should have a registry with URIs',
                    'schema:name': '13-BM-D'},
                   {'@type': ['schema:Thing', 'schema:Product'],
                    'schema:additionalProperty': [{'@type': 'schema:PropertyValue',
                                                   'schema:name': 'd-spacing',
                                                   'schema:propertyID': ['nxs:Field/NXcrystal/d_spacing'],
                                                   'schema:unitText': 'Angstrom',
                                                   'schema:value': '3.13550'},
                                                  {'@type': 'schema:PropertyValue',
                                                   'schema:name': 'chemical '
                                                                  'formula',
                                                   'schema:propertyID': ['nxs:Field/NXcrystal/chemical_formula'],
                                                   'schema:value': 'Si'},
                                                  {'@type': 'schema:PropertyValue',
                                                   'schema:name': 'crystal '
                                                                  'type',
                                                   'schema:propertyID': ['nxs:Field/NXcrystal/type'],
                                                   'schema:value': 'missing'},
                                                  {'@type': 'schema:PropertyValue',
                                                   'schema:name': 'reflection '
                                                                  'plane '
                                                                  '(hkl)',
                                                   'schema:propertyID': ['nxs:Field/NXcrystal/reflection'],
                                                   'schema:value': '1,1,1'}],
                    'schema:additionalType': 'nxs:BaseClass/NXmonochromator',
                    'schema:name': 'Si 111'},
                   {'@type': ['schema:Thing', 'schema:Product'],
                    'schema:additionalProperty': [{'@type': 'schema:PropertyValue',
                                                   'schema:name': 'monitor '
                                                                  'mode',
                                                   'schema:propertyID': ['nxs:Field/NXmonitor/mode'],
                                                   'schema:value': 'monitor'},
                                                  {'@type': 'schema:PropertyValue',
                                                   'schema:name': 'monitor '
                                                                  'preset',
                                                   'schema:propertyID': ['nxs:Field/NXmonitor/preset'],
                                                   'schema:value': 'N.A.'},
                                                  {'@type': 'schema:PropertyValue',
                                                   'schema:alternateName': 'incident '
                                                                           'flux '
                                                                           'measurement '
                                                                           'method',
                                                   'schema:name': 'detector '
                                                                  'mode i0',
                                                   'schema:propertyID': ['xas:detector.i0'],
                                                   'schema:value': '10cm  '
                                                                   'N2'},
                                                  {'@type': 'schema:PropertyValue',
                                                   'schema:alternateName': 'transmitted '
                                                                           'flux '
                                                                           'measurement '
                                                                           'method',
                                                   'schema:name': 'detector '
                                                                  'mode it',
                                                   'schema:propertyID': ['xas:detector.it'],
                                                   'schema:value': '10cm  '
                                                                   'N2'}],
                    'schema:additionalType': 'nxs:BaseClass/NXmonitor'}],
     'schema:additionalProperty': [{'@type': 'schema:PropertyValue',
                                    'schema:description': 'extrinsic '
                                                          'properties of '
                                                          'measurement '
                                                          'environment--temperature, '
                                                          'pressure, '
                                                          'e-field, '
                                                          'mag-field.  '
                                                          'have to check '
                                                          'magnetic_moment, '
                                                          'electrochemical_potential',
                                    'schema:name': 'experiment '
                                                   'environment-pressure',
                                    'schema:propertyID': ['xas:pressure'],
                                    'schema:unitText': 'KPa',
                                    'schema:value': 3567},
                                   {'@type': 'schema:PropertyValue',
                                    'schema:name': 'Absorption edge',
                                    'schema:propertyID': ['xas:edge_energy'],
                                    'schema:unitText': 'eV',
                                    'schema:value': '12658.0'},
                                   {'@type': 'schema:PropertyValue',
                                    'schema:name': 'calibration method',
                                    'schema:propertyID': ['nxs:Group/NXdetector/calibration_method'],
                                    'schema:url': 'http://protocols.io/link/to/calibrationMethod',
                                    'schema:value': 'description of '
                                                    'calibration '
                                                    'procedure'},
                                   {'@type': 'schema:PropertyValue',
                                    'schema:name': 'Instrument '
                                                   'configuration',
                                    'schema:propertyID': ['nxs:Group/NXentry/experiment_documentation'],
                                    'schema:url': 'http://protocols.io/link/to/calibrationMethod',
                                    'schema:value': 'description of '
                                                    'instrument '
                                                    'configuration'},
                                   {'@type': 'schema:PropertyValue',
                                    'schema:name': 'Installed Options',
                                    'schema:propertyID': ['xas:installedOptions'],
                                    'schema:value': 'Description of extra '
                                                    'equipment installed '
                                                    'on the base '
                                                    'instrument(?)'}],
     'schema:identifier': '20241111_DSC_NU_OREX-803224-0_1',
     'schema:location': {'@id': 'ex:xasfacility_37yht',
                         '@type': 'schema:Place',
                         'schema:additionalProperty': [{'@type': 'schema:PropertyValue',
                                                        'schema:name': 'Facility '
                                                                       'energy',
                                                        'schema:propertyID': ['xas:energy'],
                                                        'schema:unitText': 'GeV',
                                                        'schema:value': '7.00'},
                                                       {'@type': 'schema:PropertyValue',
                                                        'schema:name': 'Facility '
                                                                       'current',
                                                        'schema:propertyID': ['xas:current'],
                                                        'schema:unitText': 'Amps',
                                                        'schema:value': '120'},
                                                       {'@type': 'schema:PropertyValue',
                                                        'schema:name': 'X-ray '
                                                                       'Source',
                                                        'schema:propertyID': ['xas:xray_source'],
                                                        'schema:value': 'APS '
                                                                        'bending '
                                                                        'magnet'}],
                         'schema:additionalType': ['xas:Facility'],
                         'schema:identifier': 'https://ror.org/aps',
                         'schema:name': 'APS'},
     'schema:mainEntity': {'@type': ['schema:Thing', 'schema:Product'],
                           'schema:additionalProperty': [{'@type': 'schema:PropertyValue',
                                                          'schema:name': 'Porosity',
                                                          'schema:propertyID': ['xas:porosity'],
                                                          'schema:unitText': 'percent',
                                                          'schema:value': 27},
                                                         {'@type': 'schema:PropertyValue',
                                                          'schema:name': 'Stoichiometry',
                                                          'schema:propertyID': ['xas:stoichiometry'],
                                                          'schema:value': 'Na2SeO4'},
                                                         {'@type': 'schema:PropertyValue',
                                                          'schema:name': 'samaple '
                                                                         'preparation '
                                                                         'method',
                                                          'schema:propertyID': ['xas:samplePreparation'],
                                                          'schema:value': 'powder '
                                                                          'on '
                                                                          'tape, '
                                                                          '6 '
                                                                          'layers'},
                                                         {'@type': 'schema:PropertyValue',
                                                          'schema:name': 'sample '
                                                                         'mass',
                                                          'schema:propertyID': ['nxs:Field/NXsample/mass'],
                                                          'schema:unitText': 'mg',
                                                          'schema:value': '10'},
                                                         {'@type': 'schema:PropertyValue',
                                                          'schema:name': 'crystallographic '
                                                                         'point '
                                                                         'group',
                                                          'schema:propertyID': ['nxs:Field/NXsample/point_group'],
                                                          'schema:value': 'mm2'},
                                                         {'@type': 'schema:PropertyValue',
                                                          'schema:name': 'Crystal '
                                                                         'unit '
                                                                         'cell '
                                                                         'dimensions',
                                                          'schema:propertyID': ['nxs:Field/NXsample/unit_cell'],
                                                          'schema:value': 'cubic; '
                                                                          'Z '
                                                                          '= '
                                                                          '4; '
                                                                          'a '
                                                                          '= '
                                                                          '5.46; '
                                                                          'V '
                                                                          '= '
                                                                          '162.77'},
                                                         {'@type': 'schema:PropertyValue',
                                                          'schama:name': 'parent '
                                                                         'sample '
                                                                         'identifier',
                                                          'schema:propertyID': ['xas:parentSample'],
                                                          'schema:value': 'igsn:10.3476/342573'},
                                                         {'@type': 'schema:PropertyValue',
                                                          'schema:name': 'material '
                                                                         'state',
                                                          'schema:propertyID': ['xas:materialState'],
                                                          'schema:value': 'solid '
                                                                          'metal '
                                                                          'foil'}],
                           'schema:additionalType': ['MaterialSample',
                                                     'https://w3id.org/isample/vocabulary/materialsampleobjecttype/materialsample'],
                           'schema:description': 'physical properties of '
                                                 'sample: ph, eh, volume, '
                                                 'porosity, density, '
                                                 'concentration, '
                                                 'resistivity, viscosity, '
                                                 'crystal structure, '
                                                 'opacity from xdi list...',
                           'schema:identifier': 'igsn:10.6620/357lkj',
                           'schema:name': 'Na2SeO4'},
     'schema:startDate': '2008-04-10T21:58:50'}
=== End JSON Schema ===

=== SHACL ===

** Validation error **
Error processing _sources/qualityProperties/qualityMeasure/rules.shacl: at line 12 of <>:
Bad syntax (Prefix "dqv:" not bound) at ^ in:
"...b'fd:qualityMeasurementNode\n\ta sh:NodeShape; \n\tsh:targetClass '^b'dqv:QualityMeasurement ;\n\t\n\tsh:target [\n\t  a sh:SPARQLTarget'..."
=== End SHACL ===

