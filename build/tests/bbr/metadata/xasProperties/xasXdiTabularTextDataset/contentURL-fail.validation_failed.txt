Validation report for cdif.bbr.metadata.xasProperties.xasXdiTabularTextDataset - XDI data structure description
Generated 2026-02-19T22:12:33.664129+00:00
=== Files ===
Using contentURL-fail.json from test resources
JSON-LD context is present - uplifting
Output JSON-LD contentURL-fail.jsonld created
Output Turtle contentURL-fail.ttl created
=== End Files ===

=== JSON Schema ===

** Validation error **
ValidationError: 'cdi:has_DataStructureComponent' is a required property

Failed validating 'required' in schema:
    {'$schema': 'https://json-schema.org/draft/2020-12/schema',
     'properties': {'@type': {'const': 'cdi:WideDataStructure'},
                    'cdi:allowsDuplicates': {'default': False,
                                             'type': 'boolean'},
                    'cdi:arrayBase': {'default': 1, 'type': 'integer'},
                    'cdi:commentPrefix': {'type': 'string'},
                    'cdi:hasHeader': {'type': 'boolean'},
                    'cdi:has_DataStructureComponent': {'items': {'properties': {'@type': {'oneOf': [{'const': 'cdi:IdentifierComponent'},
                                                                                                    {'const': 'cdi:MeasureComponent'}]},
                                                                                'cdi:has': {'properties': {'@type': {'const': 'cdi:ValueMapping'},
                                                                                                           'cdi:hasIndex': {'type': 'integer'},
                                                                                                           'cdi:haslength': {'type': 'integer'}},
                                                                                            'required': ['@type'],
                                                                                            'type': 'object'},
                                                                                'cdi:isDefinedBy_InstanceVariable': {'description': 'this '
                                                                                                                                    'must '
                                                                                                                                    'be '
                                                                                                                                    'a '
                                                                                                                                    'reference '
                                                                                                                                    'to '
                                                                                                                                    'a '
                                                                                                                                    'variable '
                                                                                                                                    'defined '
                                                                                                                                    'in '
                                                                                                                                    'the '
                                                                                                                                    'schema:variableMeasured '
                                                                                                                                    'part '
                                                                                                                                    'of '
                                                                                                                                    'the '
                                                                                                                                    'metadata '
                                                                                                                                    'record; '
                                                                                                                                    'This '
                                                                                                                                    'condition '
                                                                                                                                    'will '
                                                                                                                                    'need '
                                                                                                                                    'to '
                                                                                                                                    'be '
                                                                                                                                    'validated '
                                                                                                                                    'by '
                                                                                                                                    'SHACL '
                                                                                                                                    'rule',
                                                                                                                     'properties': {'@id': {'type': 'string'}},
                                                                                                                     'type': 'object'}},
                                                                 'required': ['cdi:isDefinedBy_InstanceVariable',
                                                                              'cdi:has'],
                                                                 'type': 'object'},
                                                       'type': 'array'},
                    'cdi:headerRowCount': {'type': 'integer'},
                    'cdi:isDelimited': {'default': False,
                                        'type': 'boolean'},
                    'cdi:isFixedWidth': {'default': True,
                                         'type': 'boolean'},
                    'cdi:skipInitialSpace': {'default': True,
                                             'type': 'boolean'}},
     'required': ['@type',
                  'cdi:has_DataStructureComponent',
                  'cdi:hasHeader',
                  'cdi:headerRowCount'],
     'title': 'definitions for roles used in XAS profile',
     'type': 'object',
     'x-jsonld-prefixes': {'schema': 'http://schema.org/'}}

On instance:
    {'@context': {'ex': 'https://example.org/',
                  'schema': 'http://schema.org/',
                  'xsd': 'http://www.w3.org/2001/XMLSchema#'},
     '@type': ['schema:DataDownload'],
     'schema:contentUrl': '',
     'schema:encodingFormat': ['text/csv'],
     'schema:name': 'Water levels in Beartooth reservoir, 1992-2020',
     'schema:provider': [{'@id': 'https://orcid.org/3333-4444-5565',
                          '@type': 'schema:Person',
                          'schema:affiliation': {'@id': 'https://ror.org/347237',
                                                 '@type': 'schema:Organization',
                                                 'schema:additionalType': ['Data '
                                                                           'repository'],
                                                 'schema:identifier': 'https://ror.org/347237',
                                                 'schema:name': 'Houndstooth '
                                                                'Data '
                                                                'Repository'},
                          'schema:alternateName': 'the datameister',
                          'schema:contactPoint': {'@type': 'schema:ContactPoint',
                                                  'schema:email': 'joe@email.org'},
                          'schema:description': 'Earth Science Data '
                                                'Custodian',
                          'schema:identifier': {'@type': 'schema:PropertyValue',
                                                'schema:propertyID': 'https://registry.identifiers.org/registry/orcid',
                                                'schema:url': 'https://orcid.org/3333-4444-5565',
                                                'schema:value': '3333-4444-5565'},
                          'schema:name': 'Severus Data'}],
     'spdx:checksum': {'spdx:algorithm': 'MD5',
                       'spdx:checksumValue': '35247-39u83-7ik'}}
=== End JSON Schema ===

=== SHACL ===

** Validation error **
Error processing _sources/xasProperties/xasXdiTabularTextDataset/rules.shacl: at line 8 of <>:
Bad syntax (expected '.' or '}' or ']' at end of statement) at ^ in:
"...b'    <http://ddialliance.org/Specification/DDI-CDI/1.0/RDF/>\n'^b'@base <https://www.ogc.org/rules/template/> .\n\n#  this is ju'..."
=== End SHACL ===

