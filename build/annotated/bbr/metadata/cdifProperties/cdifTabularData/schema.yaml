$schema: https://json-schema.org/draft/2020-12/schema
type: object
title: Tabular Data Type
description: Tabular data type aligned with CDIF 2026 schema using DDI-CDI and CSVW
  properties. Typed as cdi:TabularTextDataSet and ada:tabularData.
properties:
  '@type':
    type: array
    items:
      type: string
    minItems: 2
    allOf:
    - contains:
        const: cdi:TabularTextDataSet
  cdi:arrayBase:
    type: integer
  csvw:commentPrefix:
    type: string
    description: An atomic property that sets the comment prefix flag to the single
      provided value, which MUST be a string. The default is '#'.
  csvw:delimiter:
    type: string
    description: Sets the delimiter flag to the single provided value, which MUST
      be a string. The default is ','.
  csvw:header:
    type: boolean
    description: If true, sets the header row count flag to 1, and if false to 0,
      unless headerRowCount is provided, in which case the value provided for the
      header property is ignored. The default is true.
  csvw:headerRowCount:
    type: integer
    minimum: 0
    default: 1
    description: A numeric atomic property that sets the header row count flag to
      the single provided value, which MUST be a non-negative integer.
  cdi:isDelimited:
    type: boolean
    description: Schema constraint is that one of {'isDelimited','isFixedWidth'} must
      be present with a True value; the other one may be present or omitted, but if
      present must have a false value.
  cdi:isFixedWidth:
    type: boolean
  csvw:lineTerminators:
    type: string
    enum:
    - CRLF
    - LF
    - "\r\n"
    - '

      '
  csvw:quoteChar:
    type: string
    default: '"'
    description: Same as DDI-CDI quoteCharacter. The string that is used around escaped
      cells.
  csvw:skipBlankRows:
    type: boolean
    default: false
  csvw:skipColumns:
    type: integer
    default: 0
    description: The number of columns to skip at the beginning of each row.
  csvw:skipInitialSpace:
    type: boolean
    default: true
  csvw:skipRows:
    type: integer
    description: The number of rows to skip at the beginning of the file, before a
      header row or tabular data.
    default: 0
  cdi:hasPhysicalMapping:
    type: array
    description: Links variables to their physical representation in this dataset.
    items:
      $ref: https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/cdifProperties/cdifPhysicalMapping/schema.yaml
  countRows:
    type: integer
  countColumns:
    type: integer
oneOf:
- properties:
    cdi:isDelimited:
      const: true
    cdi:isFixedWidth:
      const: false
  required:
  - cdi:isDelimited
- properties:
    cdi:isDelimited:
      const: false
    cdi:isFixedWidth:
      const: true
  required:
  - cdi:isFixedWidth
required:
- '@type'
x-jsonld-prefixes:
  schema: http://schema.org/
  ada: https://ada.astromat.org/metadata/
  cdi: http://ddialliance.org/Specification/DDI-CDI/1.0/RDF/
