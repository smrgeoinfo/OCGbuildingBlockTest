{
  "x-defs": {
    "cdif.bbr.metadata.adaProperties.details": {
      "title": "Instrument Detail Types",
      "description": "Collection of instrument-specific detail types for ADA analytical techniques. These are tightly coupled types kept together as local definitions. Includes 12 v3-aligned types plus 4 extended types (basemap, icpoes, qris, xctimage).",
      "type": "object",
      "anyOf": [
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/basemap_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/argt_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/dsc_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/empa_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/eairms_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/icpoes_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/l2ms_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/laf_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/nanoir_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/nanosims_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/psfd_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/vnmir_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/qris_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/slsshapemodel_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/xctimage_detail"
        },
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/xrd_detail"
        }
      ],
      "$defs": {
        "basemap_detail": {
          "type": "object",
          "description": "Basemap images with RGB channels and pixel scaling. (Extension type, not in v3 source schema.)",
          "properties": {
            "@type": {
              "enum": [
                [
                  "ada:basemap",
                  "schema:Map"
                ]
              ]
            },
            "schema:description": {
              "type": "string"
            },
            "pixelUnits": {
              "type": "string"
            },
            "pixelScaleX": {
              "type": "number"
            },
            "pixelScaleY": {
              "type": "number"
            },
            "channel1": {
              "type": "string"
            },
            "channel2": {
              "type": "string"
            },
            "channel3": {
              "type": "string"
            }
          },
          "required": [
            "@type",
            "pixelScaleX",
            "pixelScaleY",
            "pixelUnits"
          ]
        },
        "argt_detail": {
          "type": "object",
          "description": "ARGT (Argon) document type with phase and isotope analysis",
          "properties": {
            "@type": {
              "enum": [
                "ada:ARGTDocument"
              ]
            },
            "phaseAnalyzed": {
              "type": "string"
            },
            "isotopeType": {
              "type": "string"
            }
          }
        },
        "dsc_detail": {
          "type": "object",
          "description": "Differential Scanning Calorimetry heat tabular data",
          "properties": {
            "@type": {
              "enum": [
                "ada:DSCHeatTabular"
              ]
            },
            "analysisType": {
              "type": "string"
            }
          }
        },
        "empa_detail": {
          "type": "object",
          "description": "Electron Microprobe Analysis with spectrometer and signal details.",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "enum": [
                    "ada:EMPAImage"
                  ]
                },
                {
                  "enum": [
                    "ada:EMPAQEATabular"
                  ]
                },
                {
                  "enum": [
                    "ada:EMPAImageCollection"
                  ]
                }
              ]
            },
            "spectrometersUsed": {
              "type": "string",
              "description": "Spectrometers used in analysis"
            },
            "signalUsed": {
              "type": "string"
            }
          }
        },
        "eairms_detail": {
          "type": "object",
          "description": "Elemental Analysis Isotope Ratio Mass Spectrometry collection",
          "properties": {
            "@type": {
              "enum": [
                "ada:EAIRMSCollection"
              ]
            },
            "massConsumed": {
              "type": "string"
            },
            "elementType": {
              "type": "string"
            }
          }
        },
        "icpoes_detail": {
          "type": "object",
          "description": "Inductively Coupled Plasma Optical Emission Spectrometry. (Extension type, not in v3 source schema.)",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "enum": [
                    "ada:ICPOESIntermediateTabular"
                  ]
                },
                {
                  "enum": [
                    "ada:ICPOESProcessedTabular"
                  ]
                },
                {
                  "enum": [
                    "ada:ICPOESRawTabular"
                  ]
                }
              ]
            },
            "mass": {
              "type": "string"
            },
            "dissolutionFactor": {
              "type": "number"
            }
          }
        },
        "l2ms_detail": {
          "type": "object",
          "description": "Laser-2 Mass Spectrometry cube data with ionization parameters",
          "properties": {
            "@type": {
              "enum": [
                "ada:L2MSCube"
              ]
            },
            "sampleName": {
              "type": "string"
            },
            "ionizationTimeDelay": {
              "type": "integer"
            },
            "massGate": {
              "type": "boolean"
            },
            "photoionizationWavelength": {
              "type": "integer"
            },
            "plasmaShutter": {
              "type": "boolean"
            },
            "timeDelayUnits": {
              "type": "string"
            },
            "wavelengthUnits": {
              "type": "string"
            }
          }
        },
        "laf_detail": {
          "type": "object",
          "description": "Laser Ablation Fluorescence processed/raw data. elementAnalyzed goes in resultTarget.",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "enum": [
                    "ada:LAFProcessed"
                  ]
                },
                {
                  "enum": [
                    "ada:LAFRaw"
                  ]
                }
              ]
            },
            "elementAnalyzed": {
              "type": "string"
            },
            "sampleMassConsumed": {
              "type": "string"
            },
            "sampleType": {
              "type": "string"
            }
          }
        },
        "nanoir_detail": {
          "type": "object",
          "description": "Nano-IR spectroscopy collections with phase analysis",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "enum": [
                    "ada:NanoIRBackground"
                  ]
                }
              ]
            },
            "phaseAnalyzed": {
              "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.stringArray"
            }
          }
        },
        "nanosims_detail": {
          "type": "object",
          "description": "Nano Secondary Ion Mass Spectrometry with isotope tracking",
          "properties": {
            "@type": {
              "type": "string",
              "enum": [
                "ada:NanoSIMSCollection",
                "ada:NanoSIMSImageCollection",
                "ada:NanoSIMSTabular",
                "ada:NanoSIMSMap"
              ]
            },
            "phaseAnalyzed": {
              "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.stringArray"
            },
            "isotopeAnalyzed": {
              "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.stringArray"
            }
          }
        },
        "psfd_detail": {
          "type": "object",
          "description": "Point Spread Function Data with image names and conditions",
          "properties": {
            "@type": {
              "enum": [
                "ada:PSFDTabular"
              ]
            },
            "imageName": {
              "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.stringArray"
            },
            "imageViewingConditions": {
              "type": "string"
            }
          }
        },
        "vnmir_detail": {
          "type": "object",
          "description": "Very-Near Mid-IR spectroscopy with detailed measurement parameters",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "enum": [
                    "ada:VNMIRSpectralPoint"
                  ]
                },
                {
                  "enum": [
                    "ada:VNMIROverviewImage"
                  ]
                },
                {
                  "enum": [
                    "ada:VNMIRSpectralMap"
                  ]
                }
              ]
            },
            "detector": {
              "type": "string"
            },
            "beamsplitter": {
              "type": "string"
            },
            "calibrationStandards": {
              "type": "string"
            },
            "comments": {
              "type": "string"
            },
            "numberOfScans": {
              "type": "integer"
            },
            "eMaxFitRegionMax": {
              "type": "string"
            },
            "eMaxFitRegionMin": {
              "type": "string"
            },
            "emissionAngle": {
              "type": "number"
            },
            "emissivityMaximum": {
              "type": "string"
            },
            "environmentalPressure": {
              "type": "number"
            },
            "incidenceAngle": {
              "type": "number"
            },
            "measurement": {
              "type": "string"
            },
            "measurementEnvironment": {
              "type": "string"
            },
            "phaseAngle": {
              "type": "number"
            },
            "sampleHeated": {
              "type": "boolean"
            },
            "samplePreparation": {
              "type": "string"
            },
            "sampleTemperature": {
              "type": "integer"
            },
            "spectralRangeMax": {
              "type": "string"
            },
            "spectralRangeMin": {
              "type": "string"
            },
            "spectralResolution": {
              "type": "string"
            },
            "spectralSampling": {
              "type": "string"
            },
            "spotSize": {
              "type": "string"
            },
            "uncertaintyNoise": {
              "type": "number"
            },
            "vacuumExposedSample": {
              "type": "boolean"
            }
          }
        },
        "qris_detail": {
          "type": "object",
          "description": "QRIS (Raman) with calibration and illumination parameters. (Extension type, not in v3 source schema.)",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "enum": [
                    "ada:QRISCalibrated"
                  ]
                },
                {
                  "enum": [
                    "ada:QRISRaw"
                  ]
                }
              ]
            },
            "calibrationFile": {
              "type": "string"
            },
            "pipelineVersion": {
              "type": "string"
            },
            "focalLength": {
              "type": "integer"
            },
            "illuminationColor": {
              "type": "array",
              "minItems": 0,
              "items": {
                "type": "string"
              }
            },
            "illuminationLevel": {
              "type": "integer"
            },
            "exposureTime": {
              "type": "integer"
            },
            "target": {
              "type": "string"
            }
          }
        },
        "slsshapemodel_detail": {
          "type": "object",
          "description": "Structured Light Scanning shape models and partial scans",
          "properties": {
            "@type": {
              "anyOf": [
                {
                  "enum": [
                    "ada:SLSShapeModel"
                  ]
                },
                {
                  "enum": [
                    "ada:SLSPartialScan"
                  ]
                }
              ]
            },
            "countScans": {
              "type": "integer"
            },
            "facets": {
              "type": "integer"
            },
            "unitsOfMeasurement": {
              "type": "string"
            },
            "version": {
              "type": "integer"
            },
            "vertices": {
              "type": "integer"
            },
            "watertight": {
              "type": "boolean"
            }
          }
        },
        "xctimage_detail": {
          "type": "object",
          "description": "X-ray Computed Tomography images with detailed scan parameters. (Extension type, not in v3 source schema.)",
          "properties": {
            "@type": {
              "enum": [
                "ada:XCTImageCollection"
              ]
            },
            "beamFilterMaterial": {
              "type": "string"
            },
            "beamFilterThickness": {
              "type": "number"
            },
            "dataRangeLower": {
              "type": "integer"
            },
            "dataRangeUpper": {
              "type": "integer"
            },
            "detectorGain": {
              "type": "string"
            },
            "detectorBinning": {
              "type": "string"
            },
            "detectorSize": {
              "type": "string"
            },
            "detectorType": {
              "type": "string"
            },
            "imageExposure": {
              "type": "number"
            },
            "imageFPS": {
              "type": "string"
            },
            "imageGain": {
              "type": "number"
            },
            "imageSize": {
              "type": "string"
            },
            "instrumentType": {
              "type": "string"
            },
            "nsiBeamHardening": {
              "type": "number"
            },
            "numberOfFramesAveragedPerProjection": {
              "type": "integer"
            },
            "numberOfProjections": {
              "type": "integer"
            },
            "numberOfSlices": {
              "type": "integer"
            },
            "pixelPitch": {
              "type": "string"
            },
            "reconstructedDataFormat": {
              "type": "string"
            },
            "reconstructedVoxelSize": {
              "type": "string"
            },
            "reconstructionSoftware": {
              "type": "string"
            },
            "rotationAngle": {
              "type": "string"
            },
            "rotationType": {
              "type": "string"
            },
            "sourceToDetectorDistance": {
              "type": "string"
            },
            "sourceToObjectDistance": {
              "type": "number"
            },
            "subPixGrid": {
              "type": "string"
            },
            "subPixShift": {
              "type": "string"
            },
            "xraySource": {
              "type": "string"
            },
            "xrayTargetMaterial": {
              "type": "string"
            },
            "xrayTubeCurrent": {
              "type": "number"
            },
            "xrayTubeEnergy": {
              "type": "number"
            },
            "xrayTubePower": {
              "type": "number"
            }
          }
        },
        "xrd_detail": {
          "type": "object",
          "description": "X-ray Diffraction tabular data with geometry and wavelength",
          "properties": {
            "@type": {
              "enum": [
                "ada:XRDTabular"
              ]
            },
            "geometry": {
              "type": "string"
            },
            "sampleMount": {
              "type": "string"
            },
            "stepSize": {
              "type": "number"
            },
            "timePerStep": {
              "type": "number"
            },
            "wavelength": {
              "type": "number"
            }
          }
        }
      },
      "x-jsonld-prefixes": {
        "schema": "http://schema.org/",
        "ada": "https://ada.astromat.org/metadata/"
      },
      "x-schema-source": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/details/schema.json",
      "x-schema-version": "https://json-schema.org/draft/2020-12/schema"
    },
    "cdif.bbr.metadata.adaProperties.spatialRegistration": {
      "title": "Spatial Registration Type",
      "description": "Defines pixel coordinate system registration including origin coordinates, pixel scales, and coordinate definition type for spatially registered images and maps.",
      "type": "object",
      "properties": {
        "basemap": {
          "type": "string",
          "description": "link to appropriate basemap image map"
        },
        "originX": {
          "type": "number"
        },
        "originY": {
          "type": "number"
        },
        "originZ": {
          "type": "number"
        },
        "coordDef": {
          "type": "string",
          "description": "Whether coordinates are stage-defined or pixel-defined. If pixel-defined, are coordinates from stage, upperleftPixel, or centerPixel."
        },
        "coordUnits": {
          "type": "string"
        },
        "pixelUnits": {
          "type": "string"
        },
        "pixelScaleX": {
          "type": "number"
        },
        "pixelScaleY": {
          "type": "number"
        },
        "originLocation": {
          "type": "string",
          "description": "The location of the origin pixel of an image. Range: upperLeft, upperRight, lowerLeft, lowerRight, center"
        }
      },
      "required": [
        "originX",
        "originY",
        "pixelScaleX",
        "pixelScaleY",
        "pixelUnits",
        "originLocation",
        "coordDef"
      ],
      "x-jsonld-prefixes": {
        "ada": "https://ada.astromat.org/metadata/"
      },
      "x-schema-source": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/spatialRegistration/schema.json",
      "x-schema-version": "https://json-schema.org/draft/2020-12/schema"
    },
    "cdif.bbr.metadata.adaProperties.stringArray": {
      "title": "String Array Type",
      "description": "Simple reusable array of strings",
      "type": "array",
      "minItems": 0,
      "items": {
        "type": "string"
      },
      "x-schema-source": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/stringArray/schema.yaml",
      "x-schema-version": "https://json-schema.org/draft/2020-12/schema"
    }
  },
  "title": "Image Map Type",
  "description": "Spatially registered image maps with pixel coordinates, component type classification, and spatial registration metadata.",
  "type": "object",
  "properties": {
    "@type": {
      "enum": [
        [
          "ada:imageMap",
          "schema:ImageObject"
        ]
      ]
    },
    "acquisitionTime": {
      "type": "string"
    },
    "componentType": {
      "anyOf": [
        {
          "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.details/$defs/empa_detail"
        },
        {
          "type": "object",
          "properties": {
            "@type": {
              "enum": [
                "ada:basemap",
                "ada:supplementalBasemap",
                "ada:L2MSOverviewImage",
                "ada:NanoIRMap",
                "ada:LITImage",
                "ada:UVFMImage",
                "ada:VLMImage",
                "ada:SEMEBSDGrainImageMap",
                "ada:SEMEDSElementalMap",
                "ada:SEMHRCLMap",
                "ada:SEMImageMap",
                "ada:STEMImage",
                "ada:TEMImage",
                "ada:TEMPatternsImage",
                "ada:NanoSIMSMap",
                "ada:XANESimage",
                "ada:VNMIROverviewImage"
              ]
            }
          },
          "required": [
            "@type"
          ]
        }
      ]
    },
    "channel1": {
      "type": "string"
    },
    "channel2": {
      "type": "string"
    },
    "channel3": {
      "type": "string"
    },
    "illuminationType": {
      "type": "string",
      "description": "Type of illumination used to create the image."
    },
    "imageType": {
      "type": "string",
      "description": "Specifies the nature of the sample's response to the illumination."
    },
    "numPixelsX": {
      "type": "integer"
    },
    "numPixelsY": {
      "type": "integer"
    },
    "spatialRegistration": {
      "$ref": "https://smrgeoinfo.github.io/OCGbuildingBlockTest/build/annotated/bbr/metadata/adaProperties/imageMap/schema-oas3.0.json#/x-defs/cdif.bbr.metadata.adaProperties.spatialRegistration"
    }
  },
  "required": [
    "@type",
    "componentType"
  ],
  "x-jsonld-prefixes": {
    "schema": "http://schema.org/",
    "ada": "https://ada.astromat.org/metadata/"
  },
  "x-schema-version": "https://json-schema.org/draft/2020-12/schema"
}