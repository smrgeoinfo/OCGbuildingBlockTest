{
  "$schema": "https://json-schema.org/draft/2020-12/schema",
  "title": "Files Type",
  "description": "Properties for any file in an ADA product distribution. GeneralType provides info based on broad categories of file format (tabular, image, dataCube, document). Type constraints (e.g. DataDownload) are applied at the composition level in profiles.",
  "allOf": [
    {
      "$ref": "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/schemaorgProperties/dataDownload/schema.json"
    },
    {
      "type": "object",
      "description": "properties added for geochemical datasets",
      "properties": {
        "schema:additionalType": {
          "type": "array",
          "description": "other classifier for the file. ada componentTypes are specified in the specific file type schema attached by $refs",
          "items": {
            "type": "string"
          }
        },
        "schema:description": {
          "type": "string"
        },
        "schema:size": {
          "type": "object",
          "properties": {
            "@type": {
              "const": "schema:QuantitativeValue"
            },
            "schema:value": {
              "type": "integer"
            },
            "schema:unitText": {
              "type": "string",
              "default": "byte"
            }
          }
        },
        "schema:relatedLink": {
          "type": "array",
          "description": "Links between files in the product. Use schema:name for path to target in product, or use #id JSON-LD links. Used to link metadata files in bundle to the data or supplementary files they document.",
          "items": {
            "type": "object",
            "properties": {
              "@type": {
                "type": "string",
                "const": "schema:LinkRole"
              },
              "schema:linkRelationship": {
                "type": "string"
              },
              "schema:target": {
                "type": "object",
                "properties": {
                  "@type": {
                    "type": "string",
                    "const": "schema:EntryPoint"
                  },
                  "schema:encodingFormat": {
                    "type": "string"
                  },
                  "schema:name": {
                    "type": "string"
                  },
                  "schema:url": {
                    "type": "string"
                  }
                }
              }
            }
          }
        }
      }
    },
    {
      "anyOf": [
        {
          "$ref": "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/adaProperties/image/schema.json"
        },
        {
          "$ref": "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/adaProperties/imageMap/schema.json"
        },
        {
          "$ref": "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/adaProperties/tabularData/schema.json"
        },
        {
          "$ref": "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/adaProperties/collection/schema.json"
        },
        {
          "$ref": "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/adaProperties/dataCube/schema.json"
        },
        {
          "$ref": "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/adaProperties/document/schema.json"
        },
        {
          "$ref": "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/adaProperties/supDocImage/schema.json"
        },
        {
          "$ref": "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/adaProperties/otherFile/schema.json"
        },
        {
          "type": "object",
          "properties": {
            "@type": {
              "const": [
                "Metadata"
              ]
            }
          },
          "required": [
            "@type"
          ]
        },
        {
          "type": "object",
          "description": "DataDownload distribution (archive or direct download without specific file type)",
          "properties": {
            "@type": {
              "type": "array",
              "contains": {
                "const": "schema:DataDownload"
              }
            }
          },
          "required": [
            "@type"
          ]
        }
      ]
    }
  ],
  "x-jsonld-prefixes": {
    "schema": "http://schema.org/",
    "ada": "https://ada.astromat.org/metadata/",
    "spdx": "http://spdx.org/rdf/terms#"
  }
}