
# Action properties (Schema)

`cdif.bbr.metadata.schemaorgProperties.action` *v0.1*

Schema defining properties to implement description of an action, a profile of schema.org/Action.

[*Status*](http://www.opengis.net/def/status): Under development

## Description

## Person properties

Defines a set of properties for use describing a person for the schema.org implementation of the [Cross Domain Interoperability Framework](https://cross-domain-interoperability-framework.github.io/cdifbook/metadata/schemaorgimplementation.html#implementation-of-metadata-content-items) (CDIF) discovery profile.
## Examples

### Example Action.
Implementation of schema.org Action as described in blog post at https://schema.org/docs/actions.html, and at https://github.com/schemaorg/suggestions-questions-brainstorming/issues/62)
#### json
```json
{
    "@context": {
        "schema": "http://schema.org/",
        "ex": "https://example.org/",
        "xsd": "http://www.w3.org/2001/XMLSchema#"
    },
    "@id": "ex:exampleAction_37467",
    "@type": "schema:Action",
    "schema:name": "Download Data",
    "schema:target": {
        "@type": "schema:EntryPoint",
        "schema:description": "endpoint URL to invoke the action; content type spcifies the supported content type(s) for an EntryPoint response",
        "schema:urlTemplate": "http://portal.chordsrt.com/api/v1/data.{encoding}?instruments={instruments}&start={start}&end={end}",
        "schema:httpMethod": ["GET"],
        "schema:contentType": [
            "text/csv",
            "application/json"
        ]
    },
    "schema:result": {
        "@type": "schema:DataDownload",
        "schema:encodingFormat": ["text/csv"],
        "schema:description": "a description the file format(s) generated by api requests"
    },
    "schema:object": {
        "@type": "schema:DataFeed",
        "schema:description": "description of the structure of the api result data",
        "schema:variableMeasured": [
            {
                "@type": ["schema:PropertyValue"],
                "schema:name": "temperature",
                "schema:description": "temperature of the sample",
                "schema:propertyID": ["http://qudt.org/defs/temperature"]
            },
            {
                "@id": "ex:definedTerm_zZc",
                "@type": ["schema:PropertyValue"],
                "schema:name": "Viscosity",
                "schema:propertyID":  ["http://ogc.org/defs/g35408y"],
                "schema:description":"a quantity expressing the magnitude of internal friction"
            }
        ],
        "schema:encodingFormat-input": [
            "Lp",
            "CrYPluQBTVSdQa"
        ]
    },
    "schema:query-input": [
        {
            "@id": "ex:input_encoding",
            "@type": "schema:PropertyValueSpecification",
            "schema:valueName": "encoding",
            "schema:description": "format of requested result",
            "schema:valueRequired": false,
            "schema:valuePattern": "HgfKhFiAHnRPNcqj"
        },
        {
            "@id": "ex:input_instruments",
            "@type": "schema:PropertyValueSpecification",
            "schema:valueName": "instruments",
            "schema:description": "sensor for data requested",
            "schema:valueRequired": false,
            "schema:valuePattern": "WMCHdQeOcsmpjBFn"
        },
        {
            "@id": "ex:input_start",
            "@type": "schema:PropertyValueSpecification",
            "schema:valueName": "start",
            "schema:description": "beginning of time interval for requested data",
            "schema:valueRequired": false,
            "schema:valuePattern": "S"
        },
        {
            "@id": "ex:input_end",
            "@type": "schema:PropertyValueSpecification",
            "schema:valueName": "end",
            "schema:description": "end of time interval for requested data",
            "schema:valueRequired": true,
            "schema:valuePattern": "COollIxtaehmgu"
        }
    ]
}
```

#### jsonld
```jsonld
{
  "@context": [
    {
      "schema": "http://schema.org/"
    },
    "https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/schemaorgProperties/action/context.jsonld",
    {
      "schema": "http://schema.org/",
      "ex": "https://example.org/",
      "xsd": "http://www.w3.org/2001/XMLSchema#"
    }
  ],
  "@id": "ex:exampleAction_37467",
  "@type": "schema:Action",
  "schema:name": "Download Data",
  "schema:target": {
    "@type": "schema:EntryPoint",
    "schema:description": "endpoint URL to invoke the action; content type spcifies the supported content type(s) for an EntryPoint response",
    "schema:urlTemplate": "http://portal.chordsrt.com/api/v1/data.{encoding}?instruments={instruments}&start={start}&end={end}",
    "schema:httpMethod": [
      "GET"
    ],
    "schema:contentType": [
      "text/csv",
      "application/json"
    ]
  },
  "schema:result": {
    "@type": "schema:DataDownload",
    "schema:encodingFormat": [
      "text/csv"
    ],
    "schema:description": "a description the file format(s) generated by api requests"
  },
  "schema:object": {
    "@type": "schema:DataFeed",
    "schema:description": "description of the structure of the api result data",
    "schema:variableMeasured": [
      {
        "@type": [
          "schema:PropertyValue"
        ],
        "schema:name": "temperature",
        "schema:description": "temperature of the sample",
        "schema:propertyID": [
          "http://qudt.org/defs/temperature"
        ]
      },
      {
        "@id": "ex:definedTerm_zZc",
        "@type": [
          "schema:PropertyValue"
        ],
        "schema:name": "Viscosity",
        "schema:propertyID": [
          "http://ogc.org/defs/g35408y"
        ],
        "schema:description": "a quantity expressing the magnitude of internal friction"
      }
    ],
    "schema:encodingFormat-input": [
      "Lp",
      "CrYPluQBTVSdQa"
    ]
  },
  "schema:query-input": [
    {
      "@id": "ex:input_encoding",
      "@type": "schema:PropertyValueSpecification",
      "schema:valueName": "encoding",
      "schema:description": "format of requested result",
      "schema:valueRequired": false,
      "schema:valuePattern": "HgfKhFiAHnRPNcqj"
    },
    {
      "@id": "ex:input_instruments",
      "@type": "schema:PropertyValueSpecification",
      "schema:valueName": "instruments",
      "schema:description": "sensor for data requested",
      "schema:valueRequired": false,
      "schema:valuePattern": "WMCHdQeOcsmpjBFn"
    },
    {
      "@id": "ex:input_start",
      "@type": "schema:PropertyValueSpecification",
      "schema:valueName": "start",
      "schema:description": "beginning of time interval for requested data",
      "schema:valueRequired": false,
      "schema:valuePattern": "S"
    },
    {
      "@id": "ex:input_end",
      "@type": "schema:PropertyValueSpecification",
      "schema:valueName": "end",
      "schema:description": "end of time interval for requested data",
      "schema:valueRequired": true,
      "schema:valuePattern": "COollIxtaehmgu"
    }
  ]
}
```

#### ttl
```ttl
@prefix ex: <https://example.org/> .
@prefix schema1: <http://schema.org/> .
@prefix xsd: <http://www.w3.org/2001/XMLSchema#> .

ex:exampleAction_37467 a schema1:Action ;
    schema1:name "Download Data" ;
    schema1:object [ a schema1:DataFeed ;
            schema1:description "description of the structure of the api result data" ;
            schema1:encodingFormat-input "CrYPluQBTVSdQa",
                "Lp" ;
            schema1:variableMeasured [ a schema1:PropertyValue ;
                    schema1:description "temperature of the sample" ;
                    schema1:name "temperature" ;
                    schema1:propertyID "http://qudt.org/defs/temperature" ],
                ex:definedTerm_zZc ] ;
    schema1:query-input ex:input_encoding,
        ex:input_end,
        ex:input_instruments,
        ex:input_start ;
    schema1:result [ a schema1:DataDownload ;
            schema1:description "a description the file format(s) generated by api requests" ;
            schema1:encodingFormat "text/csv" ] ;
    schema1:target [ a schema1:EntryPoint ;
            schema1:contentType "application/json",
                "text/csv" ;
            schema1:description "endpoint URL to invoke the action; content type spcifies the supported content type(s) for an EntryPoint response" ;
            schema1:httpMethod "GET" ;
            schema1:urlTemplate "http://portal.chordsrt.com/api/v1/data.{encoding}?instruments={instruments}&start={start}&end={end}" ] .

ex:definedTerm_zZc a schema1:PropertyValue ;
    schema1:description "a quantity expressing the magnitude of internal friction" ;
    schema1:name "Viscosity" ;
    schema1:propertyID "http://ogc.org/defs/g35408y" .

ex:input_encoding a schema1:PropertyValueSpecification ;
    schema1:description "format of requested result" ;
    schema1:valueName "encoding" ;
    schema1:valuePattern "HgfKhFiAHnRPNcqj" ;
    schema1:valueRequired false .

ex:input_end a schema1:PropertyValueSpecification ;
    schema1:description "end of time interval for requested data" ;
    schema1:valueName "end" ;
    schema1:valuePattern "COollIxtaehmgu" ;
    schema1:valueRequired true .

ex:input_instruments a schema1:PropertyValueSpecification ;
    schema1:description "sensor for data requested" ;
    schema1:valueName "instruments" ;
    schema1:valuePattern "WMCHdQeOcsmpjBFn" ;
    schema1:valueRequired false .

ex:input_start a schema1:PropertyValueSpecification ;
    schema1:description "beginning of time interval for requested data" ;
    schema1:valueName "start" ;
    schema1:valuePattern "S" ;
    schema1:valueRequired false .


```

## Schema

```yaml
$schema: https://json-schema.org/draft/2020-12/schema
title: 'Action '
type: object
description: 'this element defines an action (operation) that can be invoked via messages
  using the protocol defined. In most cases this will be an http request via TCP/IP,
  but in desktop or LAN environments, other protocols might be used. The target property
  defines the endpoint and syntax for invoking the action. Result specifies the encoding
  format for the (possible) response(s) when the action is invoked. Object specifies
  the information model for the resource that is the object of the action. This approach
  is an adoptation of the Action Blog Post from schema.org (see https://schema.org/docs/actions.html,
  and https://github.com/schemaorg/suggestions-questions-brainstorming/issues/62) '
properties:
  '@type':
    type: string
    description: TBD, recognize other actions, e.g. SearchAction, UpdateAction...,
      others?
    default: schema:Action
    const: schema:Action
  schema:name:
    type: string
    description: text label for the action
  schema:target:
    $ref: '#/$defs/target_type'
    description: specifies the request target location and request syntax
  schema:result:
    $ref: '#/$defs/result_type'
    description: specifies the serialization scheme (encoding format, information
      model) for expected representation of the data
  schema:object:
    $ref: '#/$defs/object_type'
    description: specification of information model/schema for target resource. Only
      necessary if the request allow specifying the fields to include in the response
  schema:query-input:
    $ref: '#/$defs/query-input_type'
    description: set of explanations of the parameters in the URL template for the
      target.
required:
- schema:name
- schema:target
$defs:
  target_type:
    type: object
    description: documentation of the URL end point and syntax to invoke the service.
      This schema doesn't handle post requests
    properties:
      '@type':
        type: string
        default: schema:EntryPoint
        const: schema:EntryPoint
      schema:description:
        type: string
      schema:urlTemplate:
        type: string
        description: 'a templated URL; parameters are enclosed in curly braces ({..});
          parameters are not required. If included, parameters MUST be documented
          in the query-input element. Template should be consitent with URI Template
          (https://datatracker.ietf.org/doc/html/rfc6570) examples: - http://portal.chordsrt.com/api/v1/data.{encoding};
          single parameter - http://portal.chordsrt.com/api/v1/data.{encoding}?instruments={instruments}&start={start}&end={end}
          ; multiple parameters - {endpoint}{encoding}; endpoint URL path is a parameter,should
          only appear in potential actions for API specification descriptions, which
          are generic-not specific to a particular endpoint.'
      schema:httpMethod:
        title: HTTP Method
        description: only applicable if protocol is http or a protocol that tunnels
          on http
        type: array
        items:
          type: string
          default: GET
          enum:
          - GET
          - PUT
          - POST
          - PATCH
          - DELETE
          - COPY
          - HEAD
          - OPTIONS
          - PROPFIND
      schema:contentType:
        type: array
        description: The supported content type(s) for an EntryPoint response. a MIME
          type (https://www.iana.org/assignments/media-types/media-types.xhtml) that
          specifies the content type for messages in resonses from the service endpoint.
          This is a schema.org property, and is redundant with encodingFormat in the
          result property for the Action.
        items:
          type: string
    required:
    - schema:urlTemplate
  result_type:
    type: object
    description: documentation of the serialization format for the API response, i.e.
      an implementation of the structure specified in the object type field
    properties:
      '@type':
        type: array
        description: Type of result object. Typically schema:DataDownload, but may
          include additional types.
        items:
          type: string
        contains:
          const: schema:DataDownload
        minItems: 1
      schema:encodingFormat:
        type: array
        items:
          type: string
      schema:description:
        type: string
  query-input_type:
    type: array
    description: object that maps the parameters (in braces {  } in the url template
      to specifications for the kind of value expected. parameters must all be strings
      in the URL
    minItems: 0
    items:
      type: object
      properties:
        '@id':
          type: string
        '@type':
          type: string
          default: schema:PropertyValueSpecification
          const: schema:PropertyValueSpecification
        schema:valueName:
          type: string
        schema:description:
          type: string
        schema:valueRequired:
          type: boolean
          default: true
        schema:valuePattern:
          type: string
      required:
      - schema:valueName
      - schema:description
  object_type:
    type: object
    description: description of the data structure of the return object
    properties:
      '@type':
        type: string
        default: schema:DataFeed
        const: schema:DataFeed
      schema:description:
        type: string
      schema:variableMeasured:
        type: array
        items:
          $ref: '#/$defs/VariableMeasured'
  VariableMeasured:
    $ref: https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/schemaorgProperties/variableMeasured/schema.yaml
x-jsonld-prefixes:
  schema: http://schema.org/

```

Links to the schema:

* YAML version: [schema.yaml](https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/schemaorgProperties/action/schema.json)
* JSON version: [schema.json](https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/schemaorgProperties/action/schema.yaml)


# JSON-LD Context

```jsonld
{
  "@context": {
    "schema": "http://schema.org/",
    "@version": 1.1
  }
}
```

You can find the full JSON-LD context here:
[context.jsonld](https://usgin.github.io/metadataBuildingBlocks/build/annotated/bbr/metadata/schemaorgProperties/action/context.jsonld)

## Sources

* [schema.org](https://schema.org/Action)

# For developers

The source code for this Building Block can be found in the following repository:

* URL: [https://github.com/usgin/metadataBuildingBlocks](https://github.com/usgin/metadataBuildingBlocks)
* Path: `_sources/schemaorgProperties/action`

